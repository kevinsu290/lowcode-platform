CREATE DATABASE  IF NOT EXISTS `lowcode_es` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;
USE `lowcode_es`;
-- MySQL dump 10.13  Distrib 8.0.36, for Linux (x86_64)
--
-- Host: 127.0.0.1    Database: lowcode_es
-- ------------------------------------------------------
-- Server version	8.0.43-0ubuntu0.22.04.1

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `ejercicios`
--

DROP TABLE IF EXISTS `ejercicios`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `ejercicios` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `nivel_id` tinyint NOT NULL,
  `slug` varchar(80) COLLATE utf8mb4_unicode_ci NOT NULL,
  `titulo` varchar(120) COLLATE utf8mb4_unicode_ci NOT NULL,
  `descripcion` text COLLATE utf8mb4_unicode_ci,
  `objetivos_json` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin,
  `toolbox_json` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
  `criterios_exito_json` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `slug` (`slug`),
  KEY `nivel_id` (`nivel_id`),
  CONSTRAINT `ejercicios_ibfk_1` FOREIGN KEY (`nivel_id`) REFERENCES `niveles` (`id`),
  CONSTRAINT `ejercicios_chk_1` CHECK (json_valid(`objetivos_json`)),
  CONSTRAINT `ejercicios_chk_2` CHECK (json_valid(`toolbox_json`)),
  CONSTRAINT `ejercicios_chk_3` CHECK (json_valid(`criterios_exito_json`))
) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ejercicios`
--

LOCK TABLES `ejercicios` WRITE;
/*!40000 ALTER TABLE `ejercicios` DISABLE KEYS */;
INSERT INTO `ejercicios` VALUES (6,1,'if-mayoria-edad','Mayoría de edad','Si x >= 18 imprime \'Mayor de edad\', en caso contrario imprime \'Menor de edad\'.','{\"competencias\":[\"if\",\"else\",\"comparadores (>=)\"],\"tiempo_sugerido_min\":5}','{\"kind\":\"flyoutToolbox\",\"contents\":[{\"kind\":\"block\",\"type\":\"controls_if\"},{\"kind\":\"block\",\"type\":\"logic_compare\"},{\"kind\":\"block\",\"type\":\"logic_operation\"},{\"kind\":\"block\",\"type\":\"math_number\"},{\"kind\":\"block\",\"type\":\"math_arithmetic\"},{\"kind\":\"block\",\"type\":\"text\"},{\"kind\":\"block\",\"type\":\"text_join\"},{\"kind\":\"block\",\"type\":\"text_print\"},{\"kind\":\"block\",\"type\":\"variables_set\"},{\"kind\":\"block\",\"type\":\"variables_get\"}]}','{\"mustUse\":[\"if\",\"else\"],\"checks\":[{\"expr\":\"x>=18 => print(\'Mayor de edad\')\"},{\"expr\":\"x<18  => print(\'Menor de edad\')\"}],\"tests\":[{\"vars\":{\"x\":20},\"expectPrint\":\"Mayor de edad\"},{\"vars\":{\"x\":15},\"expectPrint\":\"Menor de edad\"}]}'),(7,1,'if-par-o-impar','Par o impar','Imprime \'Par\' si x % 2 == 0; de lo contrario imprime \'Impar\'.','{\"competencias\":[\"if\",\"else\",\"operador %\",\"==\"],\"tiempo_sugerido_min\":6}','{\"kind\":\"flyoutToolbox\",\"contents\":[{\"kind\":\"block\",\"type\":\"controls_if\"},{\"kind\":\"block\",\"type\":\"logic_compare\"},{\"kind\":\"block\",\"type\":\"logic_operation\"},{\"kind\":\"block\",\"type\":\"math_number\"},{\"kind\":\"block\",\"type\":\"math_arithmetic\"},{\"kind\":\"block\",\"type\":\"math_modulo\"},{\"kind\":\"block\",\"type\":\"text\"},{\"kind\":\"block\",\"type\":\"text_join\"},{\"kind\":\"block\",\"type\":\"text_print\"},{\"kind\":\"block\",\"type\":\"variables_set\"},{\"kind\":\"block\",\"type\":\"variables_get\"}]}','{\"mustUse\":[\"if\",\"else\"],\"checks\":[{\"expr\":\"x%2==0 => print(\'Par\')\"},{\"expr\":\"x%2!=0 => print(\'Impar\')\"}],\"tests\":[{\"vars\":{\"x\":4},\"expectPrint\":\"Par\"},{\"vars\":{\"x\":9},\"expectPrint\":\"Impar\"}]}'),(8,1,'if-max-de-dos','Máximo de dos números','Dados x y y, imprime el mayor.','{\"competencias\":[\"if\",\"else\",\"comparadores (>)\"],\"tiempo_sugerido_min\":6}','{\"kind\":\"flyoutToolbox\",\"contents\":[{\"kind\":\"block\",\"type\":\"controls_if\"},{\"kind\":\"block\",\"type\":\"logic_compare\"},{\"kind\":\"block\",\"type\":\"logic_operation\"},{\"kind\":\"block\",\"type\":\"math_number\"},{\"kind\":\"block\",\"type\":\"math_arithmetic\"},{\"kind\":\"block\",\"type\":\"text\"},{\"kind\":\"block\",\"type\":\"text_join\"},{\"kind\":\"block\",\"type\":\"text_print\"},{\"kind\":\"block\",\"type\":\"variables_set\"},{\"kind\":\"block\",\"type\":\"variables_get\"}]}','{\"mustUse\":[\"if\",\"else\"],\"checks\":[{\"expr\":\"x>y => print(x); else => print(y)\"}],\"tests\":[{\"vars\":{\"x\":7,\"y\":3},\"expectPrint\":\"7\"},{\"vars\":{\"x\":2,\"y\":5},\"expectPrint\":\"5\"}]}'),(9,1,'if-clasificar-temperatura','Clasificar temperatura','Imprime \'Frío\' (t<0), \'Templado\' (0<=t<=25) o \'Caliente\' (t>25).','{\"competencias\":[\"if\",\"else if\",\"else\",\"rangos\"],\"tiempo_sugerido_min\":7}','{\"kind\":\"flyoutToolbox\",\"contents\":[{\"kind\":\"block\",\"type\":\"controls_if\"},{\"kind\":\"block\",\"type\":\"logic_compare\"},{\"kind\":\"block\",\"type\":\"logic_operation\"},{\"kind\":\"block\",\"type\":\"math_number\"},{\"kind\":\"block\",\"type\":\"math_arithmetic\"},{\"kind\":\"block\",\"type\":\"text\"},{\"kind\":\"block\",\"type\":\"text_join\"},{\"kind\":\"block\",\"type\":\"text_print\"},{\"kind\":\"block\",\"type\":\"variables_set\"},{\"kind\":\"block\",\"type\":\"variables_get\"}]}','{\"mustUse\":[\"if\",\"else if\",\"else\"],\"checks\":[{\"expr\":\"x<0 => print(\'Frío\')\"},{\"expr\":\"0<=x && x<=25 => print(\'Templado\')\"},{\"expr\":\"x>25 => print(\'Caliente\')\"}],\"tests\":[{\"vars\":{\"x\":-3},\"expectPrint\":\"Frío\"},{\"vars\":{\"x\":12},\"expectPrint\":\"Templado\"},{\"vars\":{\"x\":30},\"expectPrint\":\"Caliente\"}]}'),(10,1,'if-descuento-monto','Descuento por monto','Si total >= 100 imprime \'Descuento aplicado\', en caso contrario \'Sin descuento\'.','{\"competencias\":[\"if\",\"else\",\"comparadores (>=)\"],\"tiempo_sugerido_min\":5}','{\"kind\":\"flyoutToolbox\",\"contents\":[{\"kind\":\"block\",\"type\":\"controls_if\"},{\"kind\":\"block\",\"type\":\"logic_compare\"},{\"kind\":\"block\",\"type\":\"logic_operation\"},{\"kind\":\"block\",\"type\":\"math_number\"},{\"kind\":\"block\",\"type\":\"math_arithmetic\"},{\"kind\":\"block\",\"type\":\"text\"},{\"kind\":\"block\",\"type\":\"text_join\"},{\"kind\":\"block\",\"type\":\"text_print\"},{\"kind\":\"block\",\"type\":\"variables_set\"},{\"kind\":\"block\",\"type\":\"variables_get\"}]}','{\"mustUse\":[\"if\",\"else\"],\"checks\":[{\"expr\":\"total>=100 => print(\'Descuento aplicado\')\"},{\"expr\":\"total<100  => print(\'Sin descuento\')\"}],\"tests\":[{\"vars\":{\"x\":120},\"expectPrint\":\"Descuento aplicado\"},{\"vars\":{\"x\":80},\"expectPrint\":\"Sin descuento\"}]}'),(11,2,'sw-dia-semana','Día de la semana','Dado x ∈ [1..7], imprime el nombre del día (1=Lunes, …, 7=Domingo).','{\"competencias\":[\"switch\",\"case\",\"default\"],\"tiempo_sugerido_min\":6}','{\"kind\":\"flyoutToolbox\",\"contents\":[{\"kind\":\"label\",\"text\":\"Variables\"},{\"kind\":\"block\",\"type\":\"variables_get\",\"fields\":{\"VAR\":\"x\"}},{\"kind\":\"block\",\"type\":\"variables_set\",\"fields\":{\"VAR\":\"x\"},\"inputs\":{\"VALUE\":{\"block\":{\"type\":\"math_number\",\"fields\":{\"NUM\":0}}}}},{\"kind\":\"sep\",\"gap\":10},{\"kind\":\"label\",\"text\":\"Switch\"},{\"kind\":\"block\",\"type\":\"switch_root\"},{\"kind\":\"block\",\"type\":\"switch_case_line\"},{\"kind\":\"block\",\"type\":\"switch_default_line\"},{\"kind\":\"sep\",\"gap\":10},{\"kind\":\"label\",\"text\":\"Salida\"},{\"kind\":\"block\",\"type\":\"text\"},{\"kind\":\"block\",\"type\":\"text_print\"}]}','{\"mustUse\":[\"switch\",\"case\"],\"tests\":[{\"vars\":{\"x\":1},\"expectPrint\":\"Lunes\"},{\"vars\":{\"x\":4},\"expectPrint\":\"Jueves\"},{\"vars\":{\"x\":7},\"expectPrint\":\"Domingo\"}]}'),(12,2,'sw-calificacion-letra','Calificación en letras','Dado x ∈ {\\\"A\\\",\\\"B\\\",\\\"C\\\",\\\"D\\\",\\\"F\\\"}, imprime: A=Excelente, B=Notable, C=Aprobado, D=Insuficiente, F=Reprobado.','{\"competencias\":[\"switch\",\"case\",\"cadenas\"],\"tiempo_sugerido_min\":6}','{\"kind\":\"flyoutToolbox\",\"contents\":[{\"kind\":\"block\",\"type\":\"variables_set\"},{\"kind\":\"block\",\"type\":\"variables_get\"},{\"kind\":\"block\",\"type\":\"text\"},{\"kind\":\"block\",\"type\":\"text_print\"},{\"kind\":\"block\",\"type\":\"switch_root\"},{\"kind\":\"block\",\"type\":\"switch_case_line\"},{\"kind\":\"block\",\"type\":\"switch_default_line\"}]}','{\"mustUse\":[\"switch\",\"case\"],\"tests\":[{\"vars\":{\"x\":\"A\"},\"expectPrint\":\"Excelente\"},{\"vars\":{\"x\":\"C\"},\"expectPrint\":\"Aprobado\"},{\"vars\":{\"x\":\"F\"},\"expectPrint\":\"Reprobado\"}]}'),(13,2,'sw-rango-nota','Rango de nota','Dado x ∈ [0..10]: 10-9=“Sobresaliente”, 8-7=“Notable”, 6=“Aprobado”, otro=“Insuficiente”.','{\"competencias\":[\"switch\",\"case\",\"agrupación de casos\"],\"tiempo_sugerido_min\":7}','{\"kind\":\"flyoutToolbox\",\"contents\":[{\"kind\":\"block\",\"type\":\"switch_root\"},{\"kind\":\"block\",\"type\":\"switch_case_line\"},{\"kind\":\"block\",\"type\":\"switch_default_line\"},{\"kind\":\"block\",\"type\":\"logic_boolean\"},{\"kind\":\"block\",\"type\":\"logic_compare\"},{\"kind\":\"block\",\"type\":\"logic_operation\"},{\"kind\":\"block\",\"type\":\"variables_get\"},{\"kind\":\"block\",\"type\":\"math_number\"},{\"kind\":\"block\",\"type\":\"text\"},{\"kind\":\"block\",\"type\":\"text_print\"}]}','{\"mustUse\":[\"switch\",\"case\"],\"tests\":[{\"vars\":{\"x\":10},\"expectPrint\":\"Sobresaliente\"},{\"vars\":{\"x\":8},\"expectPrint\":\"Notable\"},{\"vars\":{\"x\":6},\"expectPrint\":\"Aprobado\"},{\"vars\":{\"x\":3},\"expectPrint\":\"Insuficiente\"}]}'),(14,2,'sw-mes-estacion','Mes a estación','Dado x ∈ [1..12], imprime la estación (ej.: 12,1,2=Invierno; 3,4,5=Primavera; 6,7,8=Verano; 9,10,11=Otoño).','{\"competencias\":[\"switch\",\"case\",\"default\"],\"tiempo_sugerido_min\":6}','{\"kind\":\"flyoutToolbox\",\"contents\":[{\"kind\":\"block\",\"type\":\"switch_root\"},{\"kind\":\"block\",\"type\":\"switch_case_line\"},{\"kind\":\"block\",\"type\":\"switch_default_line\"},{\"kind\":\"block\",\"type\":\"logic_boolean\"},{\"kind\":\"block\",\"type\":\"logic_compare\"},{\"kind\":\"block\",\"type\":\"logic_operation\"},{\"kind\":\"block\",\"type\":\"variables_get\"},{\"kind\":\"block\",\"type\":\"math_number\"},{\"kind\":\"block\",\"type\":\"text\"},{\"kind\":\"block\",\"type\":\"text_print\"}]}','{\"mustUse\":[\"switch\",\"case\"],\"tests\":[{\"vars\":{\"x\":1},\"expectPrint\":\"Invierno\"},{\"vars\":{\"x\":7},\"expectPrint\":\"Verano\"},{\"vars\":{\"x\":10},\"expectPrint\":\"Otoño\"}]}'),(15,2,'sw-menu-simple','Menú simple','Dado x ∈ {1,2,3}, imprime: 1=“Nuevo”, 2=“Guardar”, 3=“Salir”; otro=“Opción inválida”.','{\"competencias\":[\"switch\",\"case\",\"default\"],\"tiempo_sugerido_min\":5}','{\"kind\":\"flyoutToolbox\",\"contents\":[{\"kind\":\"block\",\"type\":\"switch_root\"},{\"kind\":\"block\",\"type\":\"switch_case_line\"},{\"kind\":\"block\",\"type\":\"switch_default_line\"},{\"kind\":\"block\",\"type\":\"variables_get\"},{\"kind\":\"block\",\"type\":\"math_number\"},{\"kind\":\"block\",\"type\":\"text\"},{\"kind\":\"block\",\"type\":\"text_print\"}]}','{\"mustUse\":[\"switch\",\"case\"],\"tests\":[{\"vars\":{\"x\":1},\"expectPrint\":\"Nuevo\"},{\"vars\":{\"x\":2},\"expectPrint\":\"Guardar\"},{\"vars\":{\"x\":3},\"expectPrint\":\"Salir\"},{\"vars\":{\"x\":9},\"expectPrint\":\"Opción inválida\"}]}'),(16,3,'for-suma-1-a-x','Suma de 1 a x','Calcula la suma de 1 hasta x (inclusive) y la imprime.','{\"competencias\":[\"for\",\"acumuladores\"],\"tiempo_sugerido_min\":7}','{\"kind\":\"flyoutToolbox\",\"contents\":[{\"kind\":\"block\",\"type\":\"controls_for\"},{\"kind\":\"block\",\"type\":\"variables_set\"},{\"kind\":\"block\",\"type\":\"variables_get\"},{\"kind\":\"block\",\"type\":\"math_number\"},{\"kind\":\"block\",\"type\":\"math_arithmetic\"},{\"kind\":\"block\",\"type\":\"text\"},{\"kind\":\"block\",\"type\":\"text_join\"},{\"kind\":\"block\",\"type\":\"text_print\"}]}','{\"mustUse\":[\"for\"],\"tests\":[{\"vars\":{\"x\":5},\"expectPrint\":\"15\"},{\"vars\":{\"x\":1},\"expectPrint\":\"1\"}]}'),(17,3,'while-cuenta-regresiva','Cuenta regresiva','Imprime una cuenta regresiva desde x hasta 1 y al final imprime “Despegue!”.','{\"competencias\":[\"while\",\"decremento\",\"salida final\"],\"tiempo_sugerido_min\":6}','{\"kind\":\"flyoutToolbox\",\"contents\":[{\"kind\":\"block\",\"type\":\"controls_whileUntil\"},{\"kind\":\"block\",\"type\":\"logic_compare\"},{\"kind\":\"block\",\"type\":\"variables_get\"},{\"kind\":\"block\",\"type\":\"variables_set\"},{\"kind\":\"block\",\"type\":\"math_number\"},{\"kind\":\"block\",\"type\":\"math_arithmetic\"},{\"kind\":\"block\",\"type\":\"text\"},{\"kind\":\"block\",\"type\":\"text_print\"}]}','{\"mustUse\":[\"while\"],\"tests\":[{\"vars\":{\"x\":3},\"expectPrint\":\"Despegue!\"},{\"vars\":{\"x\":1},\"expectPrint\":\"Despegue!\"}]}'),(18,3,'do-ajustar-multiplo-3','Ajustar al múltiplo de 3','Partiendo de x, réstale 1 en cada iteración hasta llegar a un múltiplo de 3 (incluyendo x si ya lo es). Imprime el valor final.','{\"competencias\":[\"do…while\",\"condiciones de parada\"],\"tiempo_sugerido_min\":7}','{\"kind\":\"flyoutToolbox\",\"contents\":[{\"kind\":\"block\",\"type\":\"do_while_root\"},{\"kind\":\"block\",\"type\":\"controls_if\"},{\"kind\":\"block\",\"type\":\"controls_flow_statements\"},{\"kind\":\"block\",\"type\":\"variables_set\"},{\"kind\":\"block\",\"type\":\"variables_get\"},{\"kind\":\"block\",\"type\":\"logic_boolean\"},{\"kind\":\"block\",\"type\":\"logic_compare\"},{\"kind\":\"block\",\"type\":\"math_modulo\"},{\"kind\":\"block\",\"type\":\"math_arithmetic\"},{\"kind\":\"block\",\"type\":\"math_number\"},{\"kind\":\"block\",\"type\":\"text_print\"}]}','{\"mustUse\":[\"do\",\"while\"],\"tests\":[{\"vars\":{\"x\":7},\"expectPrint\":\"6\"},{\"vars\":{\"x\":9},\"expectPrint\":\"9\"}]}'),(19,3,'for-factorial','Factorial','Calcula x! (factorial) para x ≥ 0 e imprime el resultado.','{\"competencias\":[\"for\",\"acumuladores\",\"caso base\"],\"tiempo_sugerido_min\":8}','{\"kind\":\"flyoutToolbox\",\"contents\":[{\"kind\":\"block\",\"type\":\"controls_for\"},{\"kind\":\"block\",\"type\":\"variables_set\"},{\"kind\":\"block\",\"type\":\"variables_get\"},{\"kind\":\"block\",\"type\":\"math_number\"},{\"kind\":\"block\",\"type\":\"math_arithmetic\"},{\"kind\":\"block\",\"type\":\"text\"},{\"kind\":\"block\",\"type\":\"text_join\"},{\"kind\":\"block\",\"type\":\"text_print\"}]}','{\"mustUse\":[\"for\"],\"tests\":[{\"vars\":{\"x\":5},\"expectPrint\":\"120\"},{\"vars\":{\"x\":0},\"expectPrint\":\"1\"}]}'),(20,3,'while-suma-pares','Suma de pares','Suma todos los números pares desde 0 hasta x (inclusive) e imprime el total.','{\"competencias\":[\"while\",\"módulo (pares) sin bloque %\",\"acumuladores\"],\"tiempo_sugerido_min\":8}','{\"kind\":\"flyoutToolbox\",\"contents\":[{\"kind\":\"block\",\"type\":\"controls_whileUntil\"},{\"kind\":\"block\",\"type\":\"controls_if\"},{\"kind\":\"block\",\"type\":\"variables_get\"},{\"kind\":\"block\",\"type\":\"variables_set\"},{\"kind\":\"block\",\"type\":\"math_number\"},{\"kind\":\"block\",\"type\":\"math_arithmetic\"},{\"kind\":\"block\",\"type\":\"math_modulo\"},{\"kind\":\"block\",\"type\":\"logic_compare\"},{\"kind\":\"block\",\"type\":\"text_print\"}]}','{\"mustUse\":[\"while\"],\"tests\":[{\"vars\":{\"x\":6},\"expectPrint\":\"12\"},{\"vars\":{\"x\":1},\"expectPrint\":\"0\"}]}');
/*!40000 ALTER TABLE `ejercicios` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2025-10-25  3:21:25
